---
sidebar_position: 8
title: Поиск по пикселю
description: Визуальный поиск по цвету пикселя.
---
:::info **Пожалуйста, ознакомьтесь с [*Правилами использования материалов на данном ресурсе*](../../Disclaimer).**
:::
_______________________________________________  
## Описание.  
Позволяет произвести нажатие на элемент, используя визуальный поиск по цвету пикселя. Рекомендуем использовать, когда не получается [**найти элемент**](./ElementSearch) другими способами.  

![Описание](./assets/SearchByPix/SearchByPix_pic1.png)  

:::warning **Действие использует много ресурсов компьютера.**
:::

#### Для чего это нужно?   
Чтобы совершить клик по элементу, к которому нельзя подобраться через экшен [**Выполнить событие**](../../Android/RunEvent).  

### Как добавить в проект?  
Для добавления этого действия нужно в [Окне устройства](../Interface/DeviceWindow) навести курсор мыши на нужную часть изображения, вызвать контекстное меню правой кнопкой мыши и выбрать пункт **Поиск по пикселю**.  

![Как добавить в проект?](./assets/SearchByPix/SearchByPix_pic2.png)  

_______________________________________________

## Элементы окна.  
![Элементы окна](./assets/SearchByPix/SearchByPix_pic3.png)  

### Цвет пикселя.  
![Цвет пикселя](./assets/SearchByPix/SearchByPix_pic4.png)  

Это поле автоматически заполняется при *Поиске по пикселю* из контекстного меню. Сам цвет задаётся в [формате HTML](https://ru.wikipedia.org/wiki/HTML-%D1%86%D0%B2%D0%B5%D1%82%D0%B0).  

Если необходимо искать **одновременно** несколько пикселей разного цвета, сразу же здесь указываем эти цвета. Для этого, не закрывая это окно, нужно еще раз нажать в контекстном меню **Поиск по пикселю** в другом месте экрана. Новый цвет добавится в таблицу.  

### Область поиска.  
![Область поиска](./assets/SearchByPix/SearchByPix_pic5.png)  

В данном блоке можно задать область, внутри которой будет выполнен поиск пикселя.  

- **Весь экран**. Ищем пиксель по всему доступному экрану.  
- **Выделенная область**. При активации данного режима в [Окне устройства](../Interface/DeviceWindow) можно будет выбрать область для ограничения поиска. Используйте его, когда точно известно, что элемент появится в определённой части экрана.  

:::tip **Поиск в заданной области происходит намного быстрее и снижает нагрузку на CPU.**
:::

Выбрать область поиска по умолчанию можно в [**Настройках Записи**](../../Settings/Record_and_InputMethods#область-поиска).  

#### Как происходит установка области?  
После выбора режима **Выделенная область** в [Окне эмулятора](../Interface/DeviceWindow) появится рамка. С помощью неё можно выбрать область, внутри которой будет произведён поиск.  

![Выделенная область](./assets/SearchByPix/SearchByPix_pic6.png)  

### Поиск.  
**Отклонение цвета**. Эта настройка регулирует точность поиска. Чем выше значение, тем сильнее допускается отличие от нужного цвета.  

Если же установить значение *0*, то будет выполнен поиск абсолютно идентичного цвета.  

![Отклонение цвета](./assets/SearchByPix/SearchByPix_pic7.png)  

Нажатие по кнопке **Поиск** выполняет тестирование поиска. Если всё в порядке, то нажимайте **Да**.  

Когда поиск выполнен неверно, вам нужно кликнуть на **Нет**, обновить параметры поиска и попробовать снова.  

Если нужный пиксель был найден, то возле кнопки **Поиск** появится символ галочки, свидетельствующий об успехе, а элемент в окне устройства будет подсвечен крестиком.  

![символ галочки](./assets/SearchByPix/SearchByPix_pic8.png)  

В случае завершения поиска с ошибкой возле кнопки **Поиск** появится красный крестик.  

![красный крестик](./assets/SearchByPix/SearchByPix_pic9.png)  

### Скрытие части изображения.  
Существует возможность закрыть часть изображения, чтобы убедиться, что поиск не будет находить ничего лишнего. Для этого нужно кликнуть по кнопке с изображением бабочки, в нижней части [Окна устройства](../Interface/DeviceWindow). Затем нажмите по области, которую хотите скрыть, и снова на **Поиск**.  

![Скрытие части изображения](./assets/SearchByPix/SearchByPix_pic10.png)

Для выхода из этого режима повторно кликните по кнопке с изображением бабочки.  
_______________________________________________

## Добавление в проект.  
После нахождения нужного пикселя и нажатия на кнопку **Да** появится дополнительное меню:  

![Добавление в проект](./assets/SearchByPix/SearchByPix_pic11.png)

### Тип клика.  
![Тип клика](./assets/SearchByPix/SearchByPix_pic12.png)  

- *Обычное нажатие* — быстрый клик на выбранный элемент.  
- *Долгое нажатие* — длительное удержанием по элементу.  
- *Без нажатия* — не совершать никакого действия, а только проверить наличие элемента.  

Если фрагмент будет найден, то экшен выйдет по зелёной ветке, а если ничего не найдётся — по красной.

### Смещение нажатия.  
![Смещение нажатия](./assets/SearchByPix/SearchByPix_pic13.png)  

Используется, когда необходимо совершить нажатие с отклонением от координат найденного пикселя (например, выше или ниже).  

### Тестировать.  
В зависимости от выбранных настроек будет осуществлено нажатие на экран по найденным координатам (с учетом заданного смещения).  

### Добавить в проект.  
После того как всё было настроено, можно нажимать данную кнопку для добавления в проект этого экшена.  
_______________________________________________
## Вкладка «Дополнительно».  
Эта вкладка появляется после добавления экшена в проект.  

![Дополнительно](./assets/SearchByPix/SearchByPix_pic14.png)  

### Доступные настройки:  
#### Ожидание элемента.  
Указывается время в секундах, в течение которого экшен будет ожидать появление элемента.  

В [**настройках Записи**](../../Settings/Record_and_InputMethods) можно задать время поиска по умолчанию для всех следующих создаваемых экшенов.  

#### Область поиска.  
Тут можно вручную (или с помощью переменных) задать область, в пределах которой будет произведён поиск.  

#### Сохранить найденные координаты.  
Данная секция позволяет сохранить в отдельные переменные координаты найденного пикселя по X и Y.  
_______________________________________________
## Полезные ссылки.  
- [**Поиск по картинке**](./SearchByPic)  
- [**Запуск эмулятора**](../../get-started/Memu_Start)
- [**Выполнить событие**](../../Android/RunEvent)
---
sidebar_position: 1
title: "Проект в проекте (Вложенные проекты)"
description: ""
date: "2025-08-04"
converted: true
originalFile: "Проект в проекте (Вложенные проекты).txt"
targetUrl: "https://zennolab.atlassian.net/wiki/spaces/RU/pages/489291822"
---
:::info **Пожалуйста, ознакомьтесь с [*Правилами использования материалов на данном ресурсе*](../Disclaimer).**
:::

> 🔗 **[Оригинальная страница](https://zennolab.atlassian.net/wiki/spaces/RU/pages/489291822)** — Источник данного материала

_______________________________________________  
# Проект в проекте (Вложенные проекты)

  

## Описание

*Проект в проекте позволяет подключить уже готовый, записанный проект к текущему проекту. Этот экшен похож на [❗→ *Плагины](https://zennolab.atlassian.net/wiki/spaces/RU/pages/735379481/ "https://zennolab.atlassian.net/wiki/spaces/RU/pages/735379481/").

  

## Как добавить действие в проект?

Через контекстное меню **Добавить действие** → **Проект** → **Проект в проекте**

![image-20200813-072309](./assets/Проект_в_проекте_(Вложенные_проекты)/Проект_в_проекте_(Вложенные_проекты)_pic1.png)



Либо воспользуйтесь [❗→ умным поиском](https://zennolab.atlassian.net/wiki/spaces/RU/pages/506200090/ProjectMaker+7#%D0%A3%D0%BC%D0%BD%D1%8B%D0%B9-%D0%BF%D0%BE%D0%B8%D1%81%D0%BA-%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D0%B9 "https://zennolab.atlassian.net/wiki/spaces/RU/pages/506200090/ProjectMaker+7#%D0%A3%D0%BC%D0%BD%D1%8B%D0%B9-%D0%BF%D0%BE%D0%B8%D1%81%D0%BA-%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D0%B9").

  

## Применение

- Чаще всего *Проект в проекте используется для повторяющихся частей:
    - Пример: Вы работаете с сайтом. Для работы с данным сайтом у Вас несколько отдельных шаблонов: парсер товаров, парсер пользователей, рассыльщик сообщений. Для работы на сайте необходимо быть авторизованым. В каждом из этих шаблонов есть один и тот же участок логики - проверка авторизован ли пользователь и, если не авторизован, то авторизация на портале. Хорошим решением будет вынести участок проверки и авторизации в отдельный, небольшой подшаблон и подключать его в нужных местах. И в будущем, если Вы захотите внести правки в логику проверки авторизации, Вам придётся внести правки только в одно месте - в подшаблоне (а не в нескольких шаблонах), что серьёзно сокращает вероятность допустить ошибку.
- Так же в подпроекты можно вынести универсальные функции, которые могут использоваться в разных шаблонах:
    - генерация текста
    - проверка текста на уникальность
    - загрузка изображений на хостинги картинок и многое другое
- Еще одним возможным применением может быть разбивка одного большого шаблона на подшаблоны
    - иногда шаблоны разрастаются до очень больших размеров, особенно когда это “комбайн” по работе с каким-либо ресурсом: регистратор, парсер, чекер, рассыльщик. Неплохой идеей будет разбить один большой шаблон на более мелкие части и подключать эти части как *Проект в проекте, а из основного шаблона задавать только настройки.
- любой шаблон можно использовать как вложенный и, как и в случае с *Плагинами, здесь Вас ограничивает только Ваша фантазия

  

## Как работать с экшеном?

### Базовые настройки

![image-20200813-083014](./assets/Проект_в_проекте_(Вложенные_проекты)/Проект_в_проекте_(Вложенные_проекты)_pic2.png)



#### Путь к вложенному проекту

Здесь указывается абсолютный путь к подшаблону (можно использовать макросы [❗→ переменных](https://zennolab.atlassian.net/wiki/spaces/RU/pages/486309922 "https://zennolab.atlassian.net/wiki/spaces/RU/pages/486309922"). На скриншоте можно увидеть переменную `{ -Project.Directory- }` - путь к текущей папке проекта. Чтоб данная переменная автоматически ставилась при написании проекта необходимо включить [❗→ соответствующую настройку](https://zennolab.atlassian.net/wiki/spaces/RU/pages/727777290#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8-%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%BB%D1%8F%D1%82%D1%8C-%D0%BC%D0%B0%D0%BA%D1%80%D0%BE%D1%81-%D0%B4%D0%B8%D1%80%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%B8-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0 "https://zennolab.atlassian.net/wiki/spaces/RU/pages/727777290#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8-%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%BB%D1%8F%D1%82%D1%8C-%D0%BC%D0%B0%D0%BA%D1%80%D0%BE%D1%81-%D0%B4%D0%B8%D1%80%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%B8-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0"))

#### Передавать контекст проекта (project.Context)

[❗→ project.Context](https://help.zennolab.com/en/v5/zennoposter/5.10.4.1/webframe.html#topic733.html "https://help.zennolab.com/en/v5/zennoposter/5.10.4.1/webframe.html#topic733.html") позволяет сохранять С# объекты и переносить их между разными частями шаблона. Данная опция используется при работе с [❗→ *C# кодом*](https://zennolab.atlassian.net/wiki/spaces/RU/pages/492011596/C+.net "https://zennolab.atlassian.net/wiki/spaces/RU/pages/492011596/C+.net"). 

#### Открывать браузер если требуется

Включение данной настройки позволяет вложенному шаблону запускать [❗→ браузер](https://zennolab.atlassian.net/wiki/spaces/RU/pages/534315373 "https://zennolab.atlassian.net/wiki/spaces/RU/pages/534315373") даже если во внешнем проекте он отключен через [❗→ *Настройки проекта*](https://zennolab.atlassian.net/wiki/spaces/RU/pages/534315477 "https://zennolab.atlassian.net/wiki/spaces/RU/pages/534315477")

### Передача переменных

![image-20200813-083220](./assets/Проект_в_проекте_(Вложенные_проекты)/Проект_в_проекте_(Вложенные_проекты)_pic3.png)



#### Сопоставление переменных

В данном окне происходит передача данных из внешнего проекта во внутренний. Передать данные можно только с помощью переменных. 

#### Сопоставлять переменные с одинаковыми именами

При включении данной опции все переменные, имена которых идентичны в обоих проектах, будут автоматически сопоставлены, без необходимости ручной настройки. 

:::warning Внимание
Ручная настройка имеет больший приоритет перед "Сопоставлением…".Пример: если включена опция "Сопоставить переменные…" и в обоих проектах есть переменная с именем ***variable***, но Вы, вручную, через настройки, сопоставили переменную ***variable*** внутреннего проекта с другой переменной внешнего проекта, например ***second_var***, то переменная ***variable*** внутреннего проекта теперь будет ассоциирована с переменной ***second_var*** внешнего проекта.
:::

#### Не передавать значения обратно при неудачном выполнении

По умолчанию все изменения переменных во внутреннем проекте отражаются и на переменных из внешнего проекта. При включении данной настройки изменения переменных будут игнорироваться внешним проектом в случае ошибочного завершения внутреннего.

  

## Пример использования

В качестве примера можно привести отправку себе оповещений через email.

Можно создать шаблон, который будет автоматически, на основе переданного email, определять настройки для соединения с сервером. Вам же останется только со внешнего проекта передать текст сообщения, данные отправителя, данные получателя.

![image-20200813-091819](./assets/Проект_в_проекте_(Вложенные_проекты)/Проект_в_проекте_(Вложенные_проекты)_pic4.png)



  

## Продажа шаблонов, которые содержат вложенные проекты

При продаже своих шаблонов, которые используют вложенные проекты, стоит не забывать про [❗→ комиссию](https://zennolab.atlassian.net/wiki/spaces/RU/pages/495386651/ZennoBox#%D0%9A%D0%BE%D0%BC%D0%B8%D1%81%D1%81%D0%B8%D1%8F "https://zennolab.atlassian.net/wiki/spaces/RU/pages/495386651/ZennoBox#%D0%9A%D0%BE%D0%BC%D0%B8%D1%81%D1%81%D0%B8%D1%8F"). 

  

## Ошибка загрузки проекта

![image-20201228-131135](./assets/Проект_в_проекте_(Вложенные_проекты)/Проект_в_проекте_(Вложенные_проекты)_pic5.png)



Если во время создания проекта появилось такое окно и в логе ошибка "*Выполнение действия ProjectInProject Ошибка при обработке", то с большой долей вероятности проблема в том, что Вы пытаетесь запустить закрытый шаблон на неактивном оборудовании.

Чтобы это исправить, надо зайти в [Личный кабинет, во вкладку *Оборудование*](https://userarea.zennolab.com/lk/userarea/UserAddHardware.aspx "https://userarea.zennolab.com/lk/userarea/UserAddHardware.aspx") и активировать то оборудование, на котором Вы сейчас работаете.

  

## Искать проект с расширением .zp при выполнении действия "Проект в проекте"

:::info Информация
Добавлено в ZennoPoster 7.4.0.0
:::

При включении [❗→ данной настройки](https://zennolab.atlassian.net/wiki/spaces/RU/pages/809074766#%D0%98%D1%81%D0%BA%D0%B0%D1%82%D1%8C-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82-%D1%81-%D1%80%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC-.zp-%D0%BF%D1%80%D0%B8-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B8-%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D1%8F-%E2%80%9C%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82-%D0%B2-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B5%E2%80%9D "https://zennolab.atlassian.net/wiki/spaces/RU/pages/809074766#%D0%98%D1%81%D0%BA%D0%B0%D1%82%D1%8C-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82-%D1%81-%D1%80%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC-.zp-%D0%BF%D1%80%D0%B8-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B8-%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D1%8F-%E2%80%9C%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82-%D0%B2-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B5%E2%80%9D"), если в действии используется проект старого формата с расширением .xmlz, то при его отсутствии будет искаться проект с таким же именем, но с новым расширением .zp

***.xmlz*** - расширения проектов ZennoPoster, которое использовалось в ZennoPoster 5 и ниже  
***.zp*** - расширение проектов, которое используется в ZennoPoster 7.

  

## Полезные ссылки

- [❗→ Плагины](https://zennolab.atlassian.net/wiki/spaces/RU/pages/475365697 "https://zennolab.atlassian.net/wiki/spaces/RU/pages/475365697")
- [❗→ Окно переменных](https://zennolab.atlassian.net/wiki/spaces/RU/pages/735608872 "https://zennolab.atlassian.net/wiki/spaces/RU/pages/735608872")
---
sidebar_position: 2
title: "Код JavaScript"
description: ""
date: "2025-08-04"
converted: true
originalFile: "Код JavaScript.txt"
targetUrl: "https://zennolab.atlassian.net/wiki/spaces/RU/pages/489259137/JavaScript"
---
:::info **Пожалуйста, ознакомьтесь с [*Правилами использования материалов на данном ресурсе*](../Disclaimer).**
:::

> 🔗 **[Оригинальная страница](https://zennolab.atlassian.net/wiki/spaces/RU/pages/489259137/JavaScript)** — Источник данного материала

_______________________________________________  
# Код JavaScript

  

## Описание

Данный экшен позволяет выполнять пользовательский JavaScript код на страницах сайтов. Так же с помощью данного экшена можно проводить арифметические операции с переменными проекта:

![image-20201228-140625](./assets/Код_JavaScript/Код_JavaScript_pic1.png)



  

## Как добавить действие в проект?

Через контекстное меню **Добавить действие** → **Свой код** → **JavaScript**

![image-20210309-170124](./assets/Код_JavaScript/Код_JavaScript_pic2.png)



Либо воспользуйтесь [❗→ умным поиском](https://zennolab.atlassian.net/wiki/spaces/RU/pages/506200090/ProjectMaker+7#%D0%A3%D0%BC%D0%BD%D1%8B%D0%B9-%D0%BF%D0%BE%D0%B8%D1%81%D0%BA-%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D0%B9 "https://zennolab.atlassian.net/wiki/spaces/RU/pages/506200090/ProjectMaker+7#%D0%A3%D0%BC%D0%BD%D1%8B%D0%B9-%D0%BF%D0%BE%D0%B8%D1%81%D0%BA-%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D0%B9").

  

## Для чего это используется?

- Арифметические операции с переменными
- Взаимодействие с элементами страницы по средствам JavaScript

  

## Как работать с экшеном?

У экшена существует несколько режимов работы:

:::warning Внимание
Не зависимо от выбранного режима работы в настройках экшена обязательно должна быть указана переменная, в которую сохранится результат работы (даже если логика Вашего кода не подразумевает возврат значения)
:::

### Локально

Код будет выполнен в изолированном окружении (независимо от браузера, за его пределами). Этот способ можно использовать для работы с переменными. Работать с числами и строками. Выполнять любые действия с данными которые позволяет JS.

:::note На заметку
Протестировать такой код можно с помощью Тестера JavaScript .
:::

:::warning Внимание
При работе в данном режиме не надо указывать ключевое слово return, если Вы хотите вернуть какое-то значение. Результатом работы данного экшена будет значение, вычисленное в последней строке экшена. На примере ниже в переменную проекта `{ -Variable.result- }` попадёт значение “6”, результат выражения 2+2\*2.
:::

![image-20201228-143058](./assets/Код_JavaScript/Код_JavaScript_pic3.png)



  

### На текущей странице

Код будет выполнен в браузере (текущем инстансе). Этот способ стоит использовать для работы с DOM деревом страницы, для взаимодействия с элементами страницы.

При работе в данном режиме у Вас есть доступ ко все объектам текущей страницы, в том числе Вы можете использовать подключенные на сайте библиотеки и фреймворки (например jQuery).

### На странице расширения

Код будет выполнен в контексте активированного расширения.

### При создании окна страницы

Скрипт выполнится во время события DOMWindowCreated. С помощью данного режима можно переопределять любые JavaScript объекты, до первого обращения к ним сайта. У данного режиме есть несколько вариантов исполнения:

- *один раз* - код выполнится единожды;  
- *на домене* - код будет исполняться каждый раз при создании окна для указанного домена (если отмечена настройка *Во всех вкладках*, то код исполняется во всех вкладках инстанса)  
- *все время* - код исполняется при каждом создании окна независимо от домена (если отмечена настройка *Во всех вкладках*, то код исполняется во всех вкладках инстанса)  

### При загрузке страницы

В таком варианте скрипт выполняется во время события DOMContentLoaded. Один из вариантов применения: отключать отображение ненужных или мешающих элементов на странице

![image-20201228-145906](./assets/Код_JavaScript/Код_JavaScript_pic4.png)



Как и в предыдущем режиме существует несколько вариантов исполнения:

- *один раз* - код выполнится единожды;  
- *на домене* - код будет исполняться каждый раз при создании окна для указанного домена (если отмечена настройка *Во всех вкладках*, то код исполняется во всех вкладках инстанса)  
- *все время* - код исполняется при каждом создании окна независимо от домена (если отмечена настройка *Во всех вкладках*, то код исполняется во всех вкладках инстанса)  

  

## Пример использования

### Арифметические операции

| ![В результате выполнения этого экшена в переменную проекта result сохранится результат деления переменной проекта height на 2](./assets/Код_JavaScript/Код_JavaScript_pic5.png) |
| :--: |
| В результате выполнения этого экшена в переменную проекта result сохранится результат деления переменной проекта height на 2 |



### Подключение JavaScript библиотек

С помощью данного экшена можно встроить на страницу библиотеку, которой изначально не было. Например, можно с помощью такого кода добавить jQuery 

```javascript
var s = document.createElement('script');
s.type = 'text/javascript';
s.src = 'https://code.jquery.com/jquery-1.10.2.min.js';
document.body.appendChild(s);
```

![image-20210309-164945](./assets/Код_JavaScript/Код_JavaScript_pic6.png)



Пример проекта:

[❗→ add_jquery.zp](https://media-cdn.atlassian.com/file/d5851ee7-e11a-463f-825b-4054eed46947/image/cdn?allowAnimated=true&amp;client=a39ef20a-45b0-4258-a1f9-dace57692ad1&amp;collection=contentId-489259137&amp;height=125&amp;max-age=2592000&amp;mode=full-fit&amp;source=mediaCard&amp;token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJhMzllZjIwYS00NWIwLTQyNTgtYTFmOS1kYWNlNTc2OTJhZDEiLCJhY2Nlc3MiOnsidXJuOmZpbGVzdG9yZTpjb2xsZWN0aW9uOmNvbnRlbnRJZC00ODkyNTkxMzciOlsicmVhZCJdfSwiZXhwIjoxNzU0MzMzNTcwLCJuYmYiOjE3NTQzMzA2OTB9.oajMLZ-FU_wOrd39EzbMRE2YIN39kg0O2Hz3XAo9Klo&amp;width=156)

## Полезные ссылки

- [❗→ XPath](https://zennolab.atlassian.net/wiki/spaces/RU/pages/862093419 "https://zennolab.atlassian.net/wiki/spaces/RU/pages/862093419")
- [❗→ C# код](https://zennolab.atlassian.net/wiki/spaces/RU/pages/492011596/C+.net "https://zennolab.atlassian.net/wiki/spaces/RU/pages/492011596/C+.net")
- [❗→ Тестер JavaScript](https://zennolab.atlassian.net/wiki/spaces/RU/pages/534086128 "https://zennolab.atlassian.net/wiki/spaces/RU/pages/534086128")
---
sidebar_position: 2
title: Настройка LSPosed
description: Настройка модуля ZennoDroid для LSPosed
---

export const VideoSample = ({source}) => (
  <video controls playsInline muted preload="auto" className='docsVideo'>
    <source src={source} type="video/mp4" />
</video>
);  

> ***Краткое содержание**:*  
> **1.** *Установка LSPosed Framework*   
> **2.** *Установка модуля ZennoDroid*  
> **3.** *Полезные ссылки*  

### Описание. 
Модуль ZennoDroid необходим для подмены основных параметров устройства: IMEI, Android ID, сотового оператора, модели, WiFi, Bluetooth и других.  
> *Поддерживаются телефоны с Android 8.1-14. Для функционирования модуля необходимы **Root права**.*  
### 1. Установка LSPosed Framework.    
Для установки модуля необходим телефон с [**Magisk**](https://github.com/topjohnwu/Magisk) и активным [**LSPosed Framework**](https://github.com/LSPosed/LSPosed).  

![Magisk](./assets/LSPosed/LSPosed_pic1.png) ![zygisk](./assets/LSPosed/LSPosed_pic2.png)  
Рекомендуется использовать версию для *zygisk*, т.к. разработка *riru* прекращена.  

[**Последнюю версию LSPosed**](https://github.com/LSPosed/LSPosed/releases/tag/v1.9.2) нужно скачать на телефон в папку **sdcard/Download/** и установить с помощью стандартного меню.  

![Из хранилища](./assets/LSPosed/LSPosed_pic3.png) ![LSposed](./assets/LSPosed/LSPosed_pic4.png)  
> ***Важно!** По умолчанию модуль LSPosed Framework не имеет иконки и открывается нажатием на уведомление в верхней шторке.*  
![Шторка](./assets/LSPosed/LSPosed_pic5.png)
### 2. Установка модуля ZennoDroid.  
Модуль ZennoDroid устанавливается автоматически при первой попытке изменить параметры устройства.  
При первом запуске на экране устройства возникнет запрос прав суперпользователя.  
Необходимо нажать на кнопку **«Разрешить»**.  

![Разрешить](./assets/LSPosed/LSPosed_pic6.png)  
Если Вы не успели этого сделать или случайно нажали на кнопку **«Запретить»**, необходимо открыть **Magisk**, перейти на вкладку **Superuser (Суперпользователь)** и включить *автоматическую выдачу прав суперпользователя для ZennoDroid*.  

![Вручную](./assets/LSPosed/LSPosed_pic7.png)  

После запуска модуля на экране устройства появится уведомление о том, что он выключен.  

![Модуль выключен](./assets/LSPosed/LSPosed_pic8.png)  
Чтобы это исправить необходимо запустить LSPosed через меню в шторке, переключиться на вкладку *Модули* и включить *модуль ZennoDroid*.    

 ![Шторка открыть](./assets/LSPosed/LSPosed_pic9.png) ![Включить модуль](./assets/LSPosed/LSPosed_pic10.png) 

После этого можно будет выбрать программы, к которым будет применяться подмена параметров устройства.  

#### Важная информация.  
- Рекомендуется добавлять в список подмены только те приложения, для которых требуется изменять данные. Также для корректной работы часто требуется добавить в список *Сервисы Google Play (com.google.android.gms)*. Не нужно добавлять в список системный фреймворк (system framework).  
- Если после активации Вы удалили приложение, а затем установили его повторно, необходимо обязательно заново активировать приложение в списке подмены (снять и установить галочку).  
> *В LSPosed есть визуальный баг — после удаления приложения оно автоматически удаляется из списка подменяемых. После повторной установки приложение автоматически не попадает в список подменяемых (галочка при этом стоит, но подмены не работают).*  

![Системные](./assets/LSPosed/LSPosed_pic11.png)
- По умолчанию в списке программ отображаются не все приложения. Если вы не видите нужного, например, Google Play Services или Chrome, то нужно зайти в меню *Скрывать* и убрать галочку с нужной группы.  
- После выбора приложений для подмены нужно вернуться в модуль ZennoDroid и нажать на кнопку **«Перезапустить»**. После перезапуска на экране устройства будет выведено уведомление о том, что модуль готов к работе. Можно менять параметры устройства с помощью экшенов.  

![Модуль включен](./assets/LSPosed/LSPosed_pic12.png)
- Завершите работу нужных приложений после подмены параметров устройства. Предпочтительно делать это экшеном **«Закрыть приложение»**. Если в список подмены добавлены *Сервисы Google Play (com.google.android.gms)*, то их также необходимо закрыть.  
> *Можно закрывать приложения и до подмены, но тогда некоторые системные приложения тут же перезапускаются, поэтому могут считать старые параметры.*  

### 3. Полезные ссылки.  
- Шаблон для подмены параметров устройства с помощью экшенов и API: [**fakeDeviceBrief.droid**](https://www.dropbox.com/scl/fi/xkyhg4e72l9su4xvqsdn9/fakeDeviceBrief.droid?rlkey=583ltzuficlyh0kxrma83qodb&dl=0)  
- [**Последняя версия LSPosed Framework**](https://github.com/LSPosed/LSPosed/releases/tag/v1.9.2)  
- Подключение реального устройства к ZennoDroid.  
- Настройки устройства.

 
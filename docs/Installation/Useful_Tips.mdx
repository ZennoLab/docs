---
sidebar_position: 6
title: Полезные советы
description: Полезная информация для работы с ZD
---
:::info **Пожалуйста, ознакомьтесь с [*Правилами использования материалов на данном ресурсе*](../Disclaimer).**
:::

## Информация о прошивках.  
- Google предоставляет [**Чистую прошивку Android (GSIs)**](https://developer.android.com/topic/generic-system-image) для разработчиков. Есть вариант как с Root, так и обычной пользовательской. Смартфон должен быть совместим с [**Treble**](https://github.com/phhusson/treble_experimentations/wiki).  
- **Индийская прошивка Samsung** обновляется чаще, поэтому обычно она свежее других и имеет дополнительные функции (например, запись звонков). Происходит это потому, что Индия является регионом для тестирования.  
- Некоторые прошивки (в том числе GSI) и загрузчики **могут содержать скрытые настройки**. Одна из таких `fastboot oem off-mode-charge 0`, которая включает смартфон при подключении кабеля питания вместо отображения анимации зарядки.  
- Также иногда в прошивках встречается свойство (prop) для бэкдора: `debug.rootbackdoor=1`, с уже **вшитыми сторонними ключами доступа**. Подробнее об этом можно прочесть на [**4PDA**](https://4pda.to/forum/index.php?showtopic=908196&view=findpost&p=95402137).  
_________________
## Информация об устройствах.  
- Иногда для экономии денег в работе **можно использовать демонстрационные версии смартфонов**. В них обычно отсутствует модуль связи, а сами аппараты продают использованными (с витрин).  
- Устройства с процессорами на основе MediaTek до сих пор **поддерживают заливку полного образа флэш памяти**. Эта платформа считается дешёвой, вероятно поэтому там настолько прямой путь.  
- Почти все смартфоны Huawei используют процессоры собственного проивзодства — **Kirin**.  
_________________
## Советы по установке и настройкам.  
- Enterprise версия работает через ADB, поэтому **можно использовать любые эмуляторы**. Однако их настройку вам придётся реализовывать самим.  
### Удаление пакетов.  
**Android можно облегчить**, удалив некоторые пакеты (в том числе системные). Для этого используется команда `pm uninstall --user 0 путь.к.пакету`. Это можно сделать не только для физических устройств, но и для виртуальных машин (как минимум рекламные пакеты).  

Если понадобится восстановить системные пакеты, то можно выполнить полный сброс, либо установить отдельные пакеты командой:  
`cmd package install-existing путь.к.пакету`  

Список всех пакетов можно получить через *pm-команду*:   
`pm list packages + дополнительные аргументы`.  

#### Пакеты, которые мы рекомендуем удалить:
1. [**Для Android 12**](https://gist.github.com/Zymlex/f0b58104dd2f9504a14ffd9bdc3799ac)  
2. [**Для Android 11**](https://gist.github.com/Zymlex/51a8ed0d5864122614e6db021be8c9e9)

:::warning **Внимательно.**
Удаление определенных пакетов на некоторых смартфонах может привести к серьезной потери функционала или даже к Bootloop (бесконечная перезагрузка). Мы советуем внимательно изучить информацию для конкретного устройства.  
:::
________________
### Разметка разделов.  
Перед редактированием разметки разделов на физическом устройстве сначала сделайте полный дамп флэш памяти со всеми разделами. А затем протестируйте тот способ, которым вы будете заливать этот дамп обратно. Если устройство в этом случае работает нормально, то можете приступать к редактированию.  
#### Какие есть способы?
- **Recovery**. Предоставляет довольно широкий доступ и функционал. Но без собственного раздела, а также без bootloader, она не сможет запуститься.  
- [**Fastboot**](https://android.googlesource.com/platform/system/core/+/master/fastboot/README.md). Поддерживает создание логических разделов, но не все устройства имеют его. Так, например, в Samsung он используется в качестве заглушки, а по факту используется собственный кастомный протокол.  
- **Bootloader**. Его возможности обычно минимальны. Это обнуление уже существующих разделов, а также заливка образов поверх уже имеющихся разделов.

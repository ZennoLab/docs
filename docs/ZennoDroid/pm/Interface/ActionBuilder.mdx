---
sidebar_position: 5
title: Конструктор действий
description: Работа с элементами в окне эмулятора.
---  
:::info **Пожалуйста, ознакомьтесь с [*Правилами использования материалов на данном ресурсе*](../../Disclaimer).**
:::
_______________________________________________

Это универсальный инструмент для работы с элементами в [Окне устройства](./DeviceWindow), который позволяет подобрать оптимальные критерии для поиска.  
_______________________________________________ 
## Как вызвать?
#### Есть два способа:  
- ПКМ по нужному элементу в **Окне устройства** → **В конструктор действий** из контекстного меню.  

![Первый способ](./assets/ActionBuilder/ActionBuilder_pic1.png) 
_______________________________________________ 
- Из окна [**Древо элементов**](./ElementTree) → ПКМ по интересующему элементу → **В конструктор действий**.  

![Второй способ](./assets/ActionBuilder/ActionBuilder_pic2.png)  
_______________________________________________ 
:::info **Полезно.**
При добавлении элемента в **Конструктор действий** все его свойства и атрибуты автоматически попадают в окно [**Свойства элемента**](./ElementProp).  

![Свойства элемента](./assets/ActionBuilder/ActionBuilder_pic3.png) 
:::  
_______________________________________________ 
## Параметры поиска  
![Параметры поиска ](./assets/ActionBuilder/ActionBuilder_pic4.png)  
### Виды поиска:  
- **Классический**. Быстрый и простой. Для нахождения элемента используются различные атрибуты.  
- **xPath**. Мощный и гибкий. Позволяет выполнять сложные запросы и детальную навигацию по структуре страницы.  
### Классический поиск.  
![Классический](./assets/ActionBuilder/ActionBuilder_pic5.png)  

#### Имя атрибута.  
Атрибут элемента, по которому будет производиться поиск. Доступные атрибуты для выбранного элемента можно найти в [**Окне свойства элемента**](./ElementProp).  
:::info **Возможные атрибуты.**
`id`, `name`, `text`, `content-desc`, `bounds`, `center X/Y`, `checkable`, `checked`, `class`, `clickable`, `focusable`, `focused`, `height`, `index`, `long-clickable`, `packadge`, `password`, `resource-id`, `scrollable`, `selected`, `width`.            
:::  
#### Значение.  
То значение, которое в данный момент есть у выбранного атрибута.  
#### Тип поиска.
- **text**. Поиск по полному или частичному совпадению текста;  
- **notext**. Ищет элементы, в которых не будет указанного текста.  
- **regexp**. Поиск с помощью [**Регулярных выражений**](../../Tools/RegEx_Tester);  
:::tip **Что такое RegExp (Regular Expression)?**
Это мощный инструмент для работы с текстом, который позволяет находить, проверять, заменять и извлекать определенные паттерны в строках. Эти выражения состоят из символов и метасимволов, которые образуют шаблон для поиска.  
:::

:::warning **Будьте внимательны.**
![сразу несколько элементов](./assets/ActionBuilder/ActionBuilder_pic6.png)  

Если указать слишком общие параметры для поиска, то им будут соответствовать сразу несколько элементов. Это не очень хорошо, поэтому всегда подбирайте более узкие значения.
:::  
_______________________________________________ 
### Поиск по xPath.  
**XPath (XML Path Language)** - это язык запросов, используемый для навигации и поиска информации в XML-документах. Он позволяет точно указать путь к элементам, атрибутам и текстовым данным, которые нужно найти в структуре XML файлов и получить данные при необходимости.

XPath предлагает набор выражений, операторов и функций для указания конкретных путей обхода XML-деревьев и фильтрации данных с помощью различных критериев. Эти выражения состоят из элементов и операторов, которые можно комбинировать, чтобы получить нужные результаты.  

Доступно два варианта для формата данных:  
**1.** В виде выражения.  

![В виде выражения.](./assets/ActionBuilder/ActionBuilder_pic7.png)  

**2.** В виде древа пути (иерархии).  

![В виде древа пути (иерархии).](./assets/ActionBuilder/ActionBuilder_pic8.png)  
_______________________________________________  
## Выбор действия.  
Можно выбрать одно из трёх возможных действий:  
- **Set (Установка значения)**.  
![Set](./assets/ActionBuilder/ActionBuilder_pic9.png)  
    - *Атрибут*. Доступен только атрибут “input”. Для него можно установить новое значение.  
    - *Значение*. Текст, который необходимо вставить. Можно использовать как простой текст, так и переменные проекта: `{-Variable.someVar-}`, `{-Profile.Name-}`, а также их комбинации: `Привет. Меня зовут {-Profile.Name-}`.  

- **Get (Получение значения)**.  
![Get](./assets/ActionBuilder/ActionBuilder_pic10.png)   
    - *Атрибут*. Атрибут, значение которого надо получить.  
    - *Значение*. Здесь отобразится значение найденного атрибута.  

- **Rise (Выполнить действие)**.  
![Rise](./assets/ActionBuilder/ActionBuilder_pic11.png)   
    С помощью данного действия можно выполнить события *touch (нажатие)* и *long touch (долгое нажатие)* для элемента.  
_______________________________________________   
## Завершающие действия.  
![Завершающие действия](./assets/ActionBuilder/ActionBuilder_pic12.png)   
### Тестировать.  
После подбора оптимальных параметров поиска и нужного действия можно протестировать их, нажав на эту кнопку.  
### Добавить в проект.  
Нажимаем эту кнопку в самом конце, когда результат поиска нас полностью устраивает.  
### Комментарий.  
Здесь можно оставить комментарий для создаваемого экшена, так как автоматические подписи содержат мало информации.  

_______________________________________________
## Полезные ссылки.  
- [**Установить значение**](../../Android/ProLite/SetValue).
- [**Взять значение**](../../Android/ProLite/GetValue).  
- [**Тестер X/JSON Path**](../../Tools/JSON_Tester)
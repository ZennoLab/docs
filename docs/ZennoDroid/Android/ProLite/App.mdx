---
sidebar_position: 4
title: Действия с приложением
description: Функции для работы в виртуальной машине
---
:::info **Пожалуйста, ознакомьтесь с [*Правилами использования материалов на данном ресурсе*](../../Disclaimer).**
:::
_______________________________________________
Сейчас мы рассмотрим доступные функции для работы непосредственно в виртуальной машине. Например, установка приложений, запуск, остановка, выполнение консольной команды (ADB Shell) и др.  


## Как добавить в проект?  
***Нажимаем ПКМ → Добавить действие → Android → Действия с приложением***  

![Добавить в проект](../assets/App/App_pic1.png)  
_______________________________________________   
## Доступные действия.  
### Установка приложения.  
![Установка приложения](../assets/App/App_pic2.png)  
Данное действие позволяет установить приложение из APK файла. Поддерживаемые форматы: ***.xapk, .apkm, .apks***
_______________________________________________  
### Удаление приложения.  
![Удаление приложения](../assets/App/App_pic3.png)  
Этот экшен удаляет установленное приложение по его имени, которое можно узнать с помощью инструмента [**Установленные приложения**](../../Tools/Installed_App).  
_______________________________________________ 
### Открыть приложение.  
![Открыть приложение](../assets/App/App_pic4.png)  
Позволяет запустить ранее установленное приложение.  
_______________________________________________  
### Закрыть приложение.  
![Закрыть приложение](../assets/App/App_pic5.png)  
Закрывает приложение (аналог команды `adb shell am force-stop com.package`). 
_______________________________________________ 
### Очистка приложения.  
![Очистка приложения](../assets/App/App_pic6.png)   
Это действие нужно, чтобы стереть все данные пользователя.  
Поставив галочку на ***Очистить только кэш***, вы удалите только его, оставив все остальное. 
_______________________________________________ 
### Сохранить данные приложения.  
![Сохранить данные приложения](../assets/App/App_pic7.png)  
Данный экшен сохраняет все данные приложения.  
#### Доступные параметры:    
- *Имя приложения*. Можно узнать с помощью инструмента [**Установленные приложения**](../../Tools/Installed_App).  
- *Путь к файлу с архивом*. Тут необходимо указать путь, куда будут сохранены заархивированные данные приложения (формат архива - ***tar.gz***).  
:::tip **Лучше так.**
Перед сохранением данных приложение лучше закрыть с помощью экшена Эмуляция клавиатуры с таким текстом внутри: `{AndroidKeys.HOME}`. Это эмуляция нажатия клавиши HOME.
:::  

#### Зачем закрывать приложение перед сохранением?  
Если в момент сохранения данных приложение будет открыто, то есть вероятность того, что часть из них будет в оперативной памяти, а не в файлах. Тогда эти данные не будут сохранены. Также не стоит для этих целей закрывать приложение с помощью экшена **Закрыть приложение**, так как он убивает процесс, что может привести к потере данных.  
### Восстановить данные приложения.  
![Восстановить данные приложения](../assets/App/App_pic8.png)  
С помощью данной функции вы можете загрузить данные приложения, которые были сохранены с помощью прошлого действия (***Сохранить данные приложения***).  
#### Доступные параметры:  
- *Имя приложения*. Можно узнать с помощью инструмента [**Установленные приложения**](../../Tools/Installed_App).  
- *Путь к файлу с архивом*. Тут необходимо указать путь к архиву с данным от приложения.  
:::warning **Внимание.**
При восстановлении данных приложение должно быть установлено в системе, но не запущено!
::: 
 
### Получить apk приложения.  
![Получить apk приложения](../assets/App/App_pic9.png)  
Этот экшен позволяет получить установочный файл приложения в формате ***.apk*** или ***.apks***  
В дальнейшем приложение можно будет установить с помощью экшена **Установка apk**.  
_______________________________________________   
### Получить куки из приложения.  
![Получить куки из приложения](../assets/App/App_pic10.png)   
Данное действие получает куки из приложений с Web содержимым, которые возвращаются в формате json.  
Затем эти данные можно прочесть с помощью экшена [**Обработка JSON и XML**](../../Data/JSON_XML).  
_______________________________________________ 
### Получить уведомления.  
![Получить уведомления](../assets/App/App_pic11.png)   
Экшен получает уведомления от приложений из шторки (верхней системной панели) в формате json.  
Затем эти данные можно прочесть с помощью экшена [**Обработка JSON и XML**](../../Data/JSON_XML).  
_______________________________________________ 
### Очистить уведомления.  
![Очистить уведомления](../assets/App/App_pic15.png)  
Эта функция убирает все накопившиеся уведомления из верхней шторки.  
_______________________________________________   
### Имя активного приложения.  
![Имя активного приложения](../assets/App/App_pic12.png)  
С помощью этого действия мы можем получить название приложения, которое активно и находится на переднем плане устройства.  
_______________________________________________   
### Получить список приложений.  
![Получить список приложений](../assets/App/App_pic13.png)  
Экшен позволяет получить названия всех установленных приложений и сохранить их в список.  
#### Фильтр получаемых приложений:  
- *Все*. Все приложения установленные на устройстве.  
- *Системные*. Предустановленные приложения, которые обычно нельзя удалить, а можно только скрыть.  
- *Пользовательские*. Приложения, которые были установлены вами в процессе работы.  
_______________________________________________ 
### Проверка, что приложение уже установлено.  
![Проверка, что приложение уже установлено](../assets/App/App_pic14.png)  
Данная функция проверяет наличие приложения на устройстве. Его отсутствие будет трактоваться как ошибка, и выход пойдет по красной ветке.
_______________________________________________  
## Полезные ссылки.   
- [**Начало работы с браузером**](../../get-started/browser).  
- [**Отладка проектов**](../../pm/Debugging).   

   
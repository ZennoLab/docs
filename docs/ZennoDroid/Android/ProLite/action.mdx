---
sidebar_position: 1
title: Действия с устройством
description: Как взаимодействовать с устройством через ProjectMaker
---  
:::info **Пожалуйста, ознакомьтесь с [*Правилами использования материалов на данном ресурсе*](../../Disclaimer).**
:::
_______________________________________________
export const VideoSample = ({source}) => (
  <video controls playsInline muted preload="auto" className='docsVideo'>
    <source src={source} type="video/mp4" />
</video>
);   

## Как добавить действие в проект?  

Для вызова контекстного меню нажимаем правой кнопкой мыши по пустому месту.  
Затем **Добавить действие → Android → Действия с устройством**.  

![Добавить действие](../assets/action/action_pic0.png)  
_______________________________________________
## Как выбрать устройство?  

С помощью данного действия можно выбрать устройство, с которым будет вестись работа.  

![Выбрать](../assets/action/action_pic12.png) 

### Доступные настройки:  
 <details>
<summary>***Полное название или индекс***</summary>  

Пишем здесь Имя устройства, как оно указано в окне Мульти-Memu (1), или Индекс (2).  
Нумерация индексов начинается с нуля. Если здесь ничего не указать, то будет выбрано  
случайное устройство.  

![Мульти-Мему](../assets/action/action_pic11.png)     
</details>  


- ***Regex***.  
В этом случае будет выбрано случайное устройство из списка, согласно заданному Regex выражению.  
Так можно сгруппировать устройства задав префиксы в названиях (*Например: OK_1, OK_2, VK_1, VK_2*)  
и рандомно выбирать, задав маску (*OK или VK*).  
- ***Положить индекс\имя в переменную***.  
Данный параметр позволяет сохранить имя или индекс выбранного устройства в переменные.  
_______________________________________________
## Как запустить или перезапустить устройство?  

Данное действие запускает выбранное ранее устройство либо перезапускает уже работающее устройство.  

![Перезапустить](../assets/action/action_pic10.png) 

***Применять настройки профиля при запуске***.  
Если поставить галочку, то при запуске будут применены настройки заданные в текущем профиле. Такие как модель, идентификатор устройства, сотовый оператор и другие.  
:::warning **Перед запуском нужно *Выбрать* устройство, с которым будет работать программа.**
:::
_______________________________________________
## Как остановить устройство?  

Это действие останавливает запущенное устройство.  
![Остановить](../assets/action/action_pic9.png)   
_______________________________________________
## Как создать устройство?  

С этим действием мы можем создать новое устройство. При создании будут сгенерированы новые данные устройства (IMEI, MAC и др.).  
:::info **Создание нового устройства ресурсоёмкая операция.**
Возможно, будет легче сделать сброс настроек текущего устройства и сгенерировать новые идентификационные данные (описано ниже в пункте **Сброс**). 
:::    

![Создать](../assets/action/action_pic8.png) 
### Доступные настройки:  
- ***Версия***.  
Здесь нужно указать версию Android создаваемого устройства. Доступные значения **5.1, 7.1, 7.1 x64 и 9.0**.  
:::tip По умолчанию доступна только версия **7.1**
*Чтобы иметь возможность работать с другими версиями их нужно предварительно скачать.*
:::    
 
- ***Название***.  
Здесь указывается имя для создаваемого устройства. Можно оставить поле пустым, тогда будет выбрано значение по умолчанию.  
- ***Положить индекс\имя в переменную***.  
Позволяет сохранить имя или индекс создаваемого устройства в переменные.  
_______________________________________________
## Как переименовать устройство?  

Позволяет изменить имя текущего устройства.  

![Переименовать](../assets/action/action_pic7.png)  
:::info **Будьте внимательны.**
*Изменяется имя устройства, которое было выбрано с помощью функции **Выбрать** (описана в начале статьи).*
:::

:::warning **Устройство должно быть выключено при переименовании!**
:::  
_______________________________________________
## Как клонировать устройство?  

Действие для создания копии текущего устройства.  

![Клонировать](../assets/action/action_pic6.png)
### Доступные настройки:  
- ***Название***.  
Вводим имя для созданной копии. Можно оставить поле пустым, тогда будет выбрано значение по умолчанию.  
- ***Положить индекс\имя в переменную***.   
Позволяет сохранить имя или индекс копии устройства в переменные.  
_______________________________________________
## Как экспортировать устройство?  

Данное действие создаёт полную копию устройства со всеми настройками и сохраняет в файл с  
расширением *.ova*. Данный файл можно перенести на другой компьютер и подключить с помощью функции **Импортировать** (описана ниже).

![Экспортировать](../assets/action/action_pic4.png)

***Путь к файлу .ova***. Указываем путь, куда будет сохранена копия устройства.  
:::warning **Устройство должно быть выключено!**
:::    
_______________________________________________
## Как импортировать устройство?  

Позволяет загрузить устройство из файла, который мы сохранили в прошлом пункте.  

![Импортировать](../assets/action/action_pic5.png)
#### Доступные настройки:  
- ***Путь к файлу .ova***.   
Путь к файлу, в котором сохранено устройство. 
- ***Название***.  
Указываем имя для импортированного устройства. Можно оставить поле пустым, тогда будет выбрано значение по умолчанию.  
- ***Положить индекс\имя в переменную***.  
Позволяет сохранить имя или индекс импортированного устройства в переменные.  
_______________________________________________
## Как выполнить полный сброс устройства?  

Это действие сбрасывает текущее устройство до состояния по умолчанию. Однако сгенерированные при создании идентификаторы устройства останутся неизменны.  

*Полный сброс* нужен, чтобы не удалять, а затем заново создавать устройство. Так как *Создание* крайне ресурсозатратное действие, которое долго выполняется. Выполнить полный сброс без восстановления системного раздела намного быстрее.  
:::warning **Устройство должно быть выключено для применения настроек**
Все приложения, файлы и данные будут удалены! Данная функция сродни **factory reset** на телефонах.
:::

![Сброс](../assets/action/action_pic3.png)

***Восстановление системного раздела***.  
Без привилегий суперпользователя ни одно приложение не имеет доступа к записи в системный раздел.  
Это означает, что при установке мессенджера никаких следов в системе не остается.  
Запись в системный раздел возможна только после явного подтверждения пользователя.  
Например, при установке Xposed Framework, чтобы восстановить устройство в изначальное состояние потребуется поставить галочку.  
:::tip **При включении опции *Восстановление системного раздела* сброс будет происходить дольше.**
:::  
_______________________________________________
## Как удалить устройство?  

С помощью этого действия можно удалить устройство.  

![Удалить](../assets/action/action_pic2.png)

<details> 
<summary>***Полное название или индекс***</summary>  

Пишем здесь Имя устройства, как оно указано в окне Мульти-Memu (1), или Индекс (2).  
Нумерация индексов начинается с нуля.

![Мульти-Мему](../assets/action/action_pic11.png)     
</details> 
_______________________________________________
## Как получить список устройств?  

Представленное действие позволяет сохранить все доступные устройства в список.  

![Список](../assets/action/action_pic1.png) 
#### Доступные настройки:  
- ***Что получить***.  
Можно выбрать что именно сохранить в список: индексы устройств или их названия.  
- ***Положить в список***.  
Это список, в который будет сохранен результат работы.  
- ***Фильтр***.  
Также можно отфильтровать получаемый список по состоянию устройства:  
  - **Все.** Сюда входят все созданные устойства, не зависимо от их состояния.  
  - **Занятые.** Устройство занято в одном из выполняющихся потоков. Работает только при выполнении в ZennoDroid. (ProjectMaker не видит потоки выполняющиеся в ZennoDroid).  
  - **Не занятые.** Устройство не используется ни в одном из выполняющихся потоков. Данный фильтр также работает только при выполнении в ZennoDroid.  
  - **Запущенные.** Устройство запущено, то есть в диспетчере задач присутствует хотя бы один процесс эмулятора.  
  - **Не запущенные.** Устройство остановлено. В диспетчере задач нет процессов эмулятора.  

#### Разница между занятым и запущенным состоянием:
Устройство, которое занято в выполняющемся потоке, не обязательно запущено. Оно вполне может быть остановлено (например, экспортируется, ему задаются настройки и т.д.). При этом запущенное устройство всегда занято.
_______________________________________________  
## Полезные ссылки.   
- [**Установка Memu**](../../ProLite/Memu_Install).  
- [**Автоматизация работы в приложениях**](../../get-started/apps).   
- [**Окно устройства**](../../pm/Interface/DeviceWindow).

